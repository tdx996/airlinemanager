<div class="main-content container-fluid be-loading" id="main-content">

	<div class="be-spinner">
		<svg width="40px" height="40px" viewBox="0 0 66 66" xmlns="http://-www.w3.org/2000/svg">
			<circle class="circle" fill="none" stroke-width="4" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
		</svg>
	</div>

	<%= render partial: 'flights/new', locals: { airports: airports } %>

	<div class="modal fade" id="DeleteFlightModal" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-hidden="true"><span class="mdi mdi-close"></span></button>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <div class="text-danger"><span class="modal-main-icon mdi mdi-close-circle-o"></span></div>
              <h3>Danger!</h3>
              <p>Are you sure you want to remove the flight?</p>
              <div class="mt-8">
                <button class="btn btn-space btn-secondary" id="CancelBtn" type="button" data-dismiss="modal"><%= t :cancel %></button>
                <button class="btn btn-space btn-danger" id="ConfirmBtn" type="button" data-dismiss="modal"><%= t :proceed %></button>
              </div>
            </div>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="DeleteFlightErrorModal" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-hidden="true"><span class="mdi mdi-close"></span></button>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <div class="text-danger"><span class="modal-main-icon mdi mdi-close-circle-o"></span></div>
              <h3>Danger!</h3>
              <p>You can't delete a flight which has passenger!</p>
              <div class="mt-8">
                <button class="btn btn-space btn-danger" type="button" data-dismiss="modal"><%= t :proceed %></button>
              </div>
            </div>
          </div>
          <div class="modal-footer"></div>
        </div>
      </div>
    </div>

	<div class="row">
		<div class="col-12">
			<div class="row mb-10">
				<div class="col-12">
					<button class="btn btn-primary float-right" data-toggle="modal" data-target="#NewFlightModal"><i class="mdi mdi-plus"></i> <%= t(:new) %></button>
				</div>
			</div>

			<%= render partial: 'flights/list', locals: { flights: flights } %>
		</div>
	</div>

	<script type="text/javascript">
	    $('#arrival_at, #departure_at').datetimepicker();

		AppRails.loadView('<%= url_for flights_list_path %>', '#FlightList');
	</script>
</div>